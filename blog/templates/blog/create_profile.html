{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlogApp - Create Profile</title>
    <link rel="stylesheet" href="{% static 'blog/css/create_profile.css' %}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Create Your Profile</h1>
            <p>Join our blogging community</p>
        </div>

        <!-- Profile Form -->
        <form method="POST" enctype="multipart/form-data" class="form-card">
            {% csrf_token %}

            <!-- Profile Picture Section -->
            <div class="profile-section">
                <div class="profile-avatar">
                    <div class="avatar-circle" onclick="document.getElementById('profilePicture').click()">
                        <svg id="userIcon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                        <img id="avatarPreview" class="avatar-preview" alt="Profile Picture Preview">
                    </div>

                    <label class="upload-button" for="profilePicture">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                    </label>

                    <input type="file" id="profilePicture" name="profile_picture" accept="image/*">
                </div>

                <p class="upload-text">Upload profile picture</p>
            </div>

            <!-- Username & Full Name -->
            <div class="form-row">
                <div class="form-group">
                    <label for="username">Username</label>
                    <div class="input-wrapper">
                        <input type="text" id="username" name="username" class="with-icon" value="{{ user.username }}" readonly>  
                        <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                    </div>
                </div>

                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" placeholder="John Doe" required>
                </div>
            </div>

            <!-- Bio -->
            <div class="form-group">
                <label for="bio">Bio</label>
                <textarea id="bio" name="bio" rows="3" maxlength="150" placeholder="Tell us about yourself..."></textarea>
                <div class="char-count">
                    <span id="charCount">0</span>/150 characters
                </div>
            </div>

            <!-- Date of Birth -->
            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <div class="input-wrapper">
                    <input type="date" id="dob" name="dob" class="with-icon" required>
                    <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                </div>
            </div>

            <!-- Social Media Links -->
            <div class="section-divider">
                <h3 class="section-title">Social Media Links</h3>

                <div class="form-group">
                    <label for="github">GitHub</label>
                    <input type="url" id="github" name="github" placeholder="https://github.com/username">
                </div>

                <div class="form-group">
                    <label for="twitter">Twitter</label>
                    <input type="url" id="twitter" name="twitter" placeholder="https://twitter.com/username">
                </div>

                <div class="form-group">
                    <label for="instagram">Instagram</label>
                    <input type="url" id="instagram" name="instagram" placeholder="https://instagram.com/username">
                </div>

                <div class="form-group">
                    <label for="linkedin">LinkedIn</label>
                    <input type="url" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/username">
                </div>

                <div class="form-group">
                    <label for="website">Personal Website</label>
                    <input type="url" id="website" name="website" placeholder="https://yourwebsite.com">
                </div>
            </div>

            <!-- Buttons -->
            <div class="button-row">
                <button type="submit" class="submit-btn">Save Profile</button>
            </div>
        </form>
    </div>

    <script src="{% static 'blog/js/create_profile.js' %}"></script>
</body>
</html>
